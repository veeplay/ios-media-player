<!DOCTYPE html>
<html lang="en">
  <head>
    <title>README  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset="utf-8">
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
  </head>
  <body>


    <a title="README  Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="index.html">
           Docs
        </a>
        
      </p>
    
    
    
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="index.html"> Reference</a>
      <img class="carat" src="img/carat.png" />
      README  Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Getting%20Started.html">Getting Started</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="readme.html">README</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/APSMediaPlayer.html">APSMediaPlayer</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/APSMediaBuilder.html">APSMediaBuilder</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/APSMediaUnit.html">APSMediaUnit</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/APSMediaEvent.html">APSMediaEvent</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/APSVASTAdBreak.html">APSVASTAdBreak</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Other%20Classes.html">Other Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other%20Classes.html#/c:objc(cs)APSAVPlayer">APSAVPlayer</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/APSMediaOverlay.html">APSMediaOverlay</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other%20Classes.html#/c:objc(cs)APSMediaPlayerButtonOverlayController">APSMediaPlayerButtonOverlayController</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/APSMediaPlayerClosableOverlayController.html">APSMediaPlayerClosableOverlayController</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other%20Classes.html#/c:objc(cs)APSMediaPlayerHTMLOverlayController">APSMediaPlayerHTMLOverlayController</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other%20Classes.html#/c:objc(cs)APSMediaPlayerImageOverlayController">APSMediaPlayerImageOverlayController</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/APSMediaPlayerOverlayController.html">APSMediaPlayerOverlayController</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other%20Classes.html#/c:objc(cs)APSMediaPlayerTextOverlayController">APSMediaPlayerTextOverlayController</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/APSVASTBannerConfiguration.html">APSVASTBannerConfiguration</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/APSVASTCountdownConfiguration.html">APSVASTCountdownConfiguration</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/APSVASTMediaBuilderPlugin.html">APSVASTMediaBuilderPlugin</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/APSVASTSkipButtonConfiguration.html">APSVASTSkipButtonConfiguration</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/KRHub.html">KRHub</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Other%20Constants.html">Other Constants</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other%20Constants.html#/c:@APSMediaPlayerControlsDisplayedNotification">APSMediaPlayerControlsDisplayedNotification</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other%20Constants.html#/c:@APSMediaPlayerControlsHiddenNotification">APSMediaPlayerControlsHiddenNotification</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other%20Constants.html#/c:@APSMediaPlayerDidEnterFullscreenNotification">APSMediaPlayerDidEnterFullscreenNotification</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other%20Constants.html#/c:@APSMediaPlayerDidExitFullscreenNotification">APSMediaPlayerDidExitFullscreenNotification</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other%20Constants.html#/c:@APSMediaPlayerDidStartPictureInPictureNotification">APSMediaPlayerDidStartPictureInPictureNotification</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other%20Constants.html#/c:@APSMediaPlayerDidStopPictureInPictureNotification">APSMediaPlayerDidStopPictureInPictureNotification</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other%20Constants.html#/c:@APSMediaPlayerDurationAvailableNotification">APSMediaPlayerDurationAvailableNotification</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other%20Constants.html#/c:@APSMediaPlayerErrorNotification">APSMediaPlayerErrorNotification</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other%20Constants.html#/c:@APSMediaPlayerEventLaunch">APSMediaPlayerEventLaunch</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other%20Constants.html#/c:@APSMediaPlayerInvalidLicenseNotification">APSMediaPlayerInvalidLicenseNotification</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other%20Constants.html#/c:@APSMediaPlayerLoadStateDidChangeNotification">APSMediaPlayerLoadStateDidChangeNotification</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other%20Constants.html#/c:@APSMediaPlayerPlaybackDidFinishNotification">APSMediaPlayerPlaybackDidFinishNotification</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other%20Constants.html#/c:@APSMediaPlayerPlaybackStateDidChangeNotification">APSMediaPlayerPlaybackStateDidChangeNotification</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other%20Constants.html#/c:@APSMediaPlayerStatusChangedNotification">APSMediaPlayerStatusChangedNotification</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other%20Constants.html#/c:@APSMediaPlayerToggleFullscreenNotification">APSMediaPlayerToggleFullscreenNotification</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other%20Constants.html#/c:@APSMediaPlayerTrackedEventNotification">APSMediaPlayerTrackedEventNotification</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other%20Constants.html#/c:@APSMediaPlayerUnitFinishedNotification">APSMediaPlayerUnitFinishedNotification</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other%20Constants.html#/c:@APSMediaPlayerUpdateNotification">APSMediaPlayerUpdateNotification</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other%20Constants.html#/c:@APSMediaPlayerVolumeDidChangeNotification">APSMediaPlayerVolumeDidChangeNotification</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other%20Constants.html#/c:@APSMediaPlayerWasTappedNotification">APSMediaPlayerWasTappedNotification</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other%20Constants.html#/c:@APSMediaPlayerWillCloseMiniBrowser">APSMediaPlayerWillCloseMiniBrowser</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other%20Constants.html#/c:@APSMediaPlayerWillEnterFullscreenNotification">APSMediaPlayerWillEnterFullscreenNotification</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other%20Constants.html#/c:@APSMediaPlayerWillExitFullscreenNotification">APSMediaPlayerWillExitFullscreenNotification</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other%20Constants.html#/c:@APSMediaPlayerWillOpenMiniBrowser">APSMediaPlayerWillOpenMiniBrowser</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other%20Constants.html#/c:@APSMediaPlayerWillStartPictureInPictureNotification">APSMediaPlayerWillStartPictureInPictureNotification</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other%20Constants.html#/c:@APSMediaPlayerWillStopPictureInPictureNotification">APSMediaPlayerWillStopPictureInPictureNotification</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other%20Constants.html#/c:@APSPipPlayerDidStartPictureInPicture">APSPipPlayerDidStartPictureInPicture</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other%20Constants.html#/c:@APSPipPlayerDidStopPictureInPicture">APSPipPlayerDidStopPictureInPicture</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other%20Constants.html#/c:@APSPipPlayerFailedToStartPictureInPictureWithError">APSPipPlayerFailedToStartPictureInPictureWithError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other%20Constants.html#/c:@APSPipPlayerNotPossible">APSPipPlayerNotPossible</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other%20Constants.html#/c:@APSPipPlayerNotSupported">APSPipPlayerNotSupported</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other%20Constants.html#/c:@APSPipPlayerWillStartPictureInPicture">APSPipPlayerWillStartPictureInPicture</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other%20Constants.html#/c:@APSPipPlayerWillStopPictureInPicture">APSPipPlayerWillStopPictureInPicture</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Other%20Enums.html">Other Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/APSAdPodFallback.html">APSAdPodFallback</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/APSControlsOverlayComponents.html">APSControlsOverlayComponents</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/APSFullscreenOrientationBehaviour.html">APSFullscreenOrientationBehaviour</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/APSHandleSeekEvent.html">APSHandleSeekEvent</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/APSMediaControlsDisplay.html">APSMediaControlsDisplay</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/APSMediaEventState.html">APSMediaEventState</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/APSMediaOverlayPosition.html">APSMediaOverlayPosition</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/APSMovieControlStyle.html">APSMovieControlStyle</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/APSMovieFinishReason.html">APSMovieFinishReason</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/APSMovieLoadState.html">APSMovieLoadState</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/APSMoviePlaybackState.html">APSMoviePlaybackState</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/APSMovieScalingMode.html">APSMovieScalingMode</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/APSMovieSourceType.html">APSMovieSourceType</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/APSMovieStreamSourceType.html">APSMovieStreamSourceType</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/APSResolvMultipleAdsConflictsBy.html">APSResolvMultipleAdsConflictsBy</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/APSSkipOverlayProgressPosition.html">APSSkipOverlayProgressPosition</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/APSVASTAdBreakType.html">APSVASTAdBreakType</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/APSViewability.html">APSViewability</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/APSWebviewDismissedAction.html">APSWebviewDismissedAction</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Other%20Protocols.html">Other Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other%20Protocols.html#/c:objc(pl)APSControlPluginProtocol">APSControlPluginProtocol</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/APSMediaBuilderPlugin.html">APSMediaBuilderPlugin</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/APSMediaEventProtocol.html">APSMediaEventProtocol</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/APSMediaPlayerActionDelegate.html">APSMediaPlayerActionDelegate</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/APSMediaPlayerOverlayControllerProtocol.html">APSMediaPlayerOverlayControllerProtocol</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/APSMediaPlayerProtocol.html">APSMediaPlayerProtocol</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/APSMediaTrackableObject.html">APSMediaTrackableObject</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/APSUnitManagerProtocol.html">APSUnitManagerProtocol</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/APSVASTAdBreakDelegate.html">APSVASTAdBreakDelegate</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/KRAdapter.html">KRAdapter</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Other%20Type%20Definitions.html">Other Type Definitions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other%20Type%20Definitions.html#/c:APSMediaPlayer.h@T@APSMediaPlayerFinishBlock">APSMediaPlayerFinishBlock</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other%20Type%20Definitions.html#/c:APSTypes.h@T@APSThumbnailGeneratedBlock">APSThumbnailGeneratedBlock</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content top-matter">
            
            <h2 id='about' class='heading'>About</h2>

<p><a href="https://veeplay.com"><img src="https://veeplay.com/images/veeplay_logo.svg"></a></p>

<p>The Veeplay Media Player allows you to:</p>

<ul>
<li>Create playlists of synchronized videos and overlays</li>
<li>Configure a playlist from an external JSON file, an equivalent NSDictionary structure or directly via code attributes</li>
<li>Create custom, native overlays</li>
<li>Automatically configure ad linear inserts (pre, mid and post rolls) as well as nonlinear inserts (banner overlays), VAST 1.0, 2.0, 3.0 and VMAP 1.0 compliant</li>
<li>Create custom player skins, brand player with logo, insert overlay bugs, customize player controls</li>
<li>Track video and overlay lifecycle events in real-time, as rendered</li>
</ul>
<h2 id='demo' class='heading'>Demo</h2>

<p>Install <a href="http://guides.cocoapods.org/using/getting-started.html#getting-started">cocoapods</a>, and then run</p>
<pre class="highlight plaintext"><code>pod try Veeplay
</code></pre>
<h2 id='installation' class='heading'>Installation</h2>

<p>There are currently two integration paths: via CocoaPods or via standard library download.</p>

<ol>
<li><strong>Installing via CocoaPods (recommended)</strong></li>
</ol>
<pre class="highlight plaintext"><code>- Add the following line to your podfile:

        pod 'Veeplay'

- Run `pod install` to install the player and all the dependencies. Run `pod update` to keep the library updated.
</code></pre>

<ol>
<li><strong>Installing via library download</strong></li>
</ol>
<pre class="highlight plaintext"><code>- Add `MediaPlayer.framework`, `AVFoundation.framework`, `CoreMedia.framework`, `SystemConfiguration.framework` and `libz.dylib` to your project.

    - Select your target in the project settings screen.
    - Select the “Build Phases” tab.
    - Expand the “Link Binary With Libraries” area.
    - Click the “+” button, and add `MediaPlayer.framework`, `AVFoundation.framework`, `CoreMedia.framework`, `SystemConfiguration.framework` and `libz.dylib` to your project.

- Add the player’s static library to your project.

    - Drag the “libVeeplay.a” file to your project.
    - When prompted, make sure to check the project target that should link against the static library.
    - Select your target in the project settings screen.
    - Select the “Build Settings” tab.
    - Search for “Other Linker Flags” and make sure that the “-ObjC” flag is present. If it is not, add it.
    - Search for “iOS Deployment Target” and make sure to set the value to iOS 5 and up (iOS &lt; 5 is not supported).

- Add the player’s header files to your project.

    - Drag all the header files in the “headers” folder into your Xcode project OR

    - Select your target in the project settings screen.
    - Select the “Build Settings” tab.
    - Search for “Header Search Paths” and make sure that all the header files are in a location that Xcode knows about.

- Add the player’s resource files to your project.

    - Drag all the files in the "Assets" folder into your Xcode project.
    - When prompted, make sure to check the project target that should include the resources.
</code></pre>
<h2 id='getting-started' class='heading'>Getting Started</h2>

<p>Set up an account at <a href="https://panel.veeplay.com">https://panel.veeplay.com</a> and add your application&rsquo;s bundle identifier under &ldquo;License Management&rdquo;.</p>

<p>Import the Player’s header file, as well as the VAST/VMAP or other plugins:</p>
<pre class="highlight plaintext"><code>#import "APSMediaPlayer.h" 
#import "APSVASTMediaBuilderPlugin.h"
</code></pre>

<p>Create a new APSMediaBuilder instance and add plugins as required APSMediaUnit : </p>
<pre class="highlight plaintext"><code>APSMediaBuilder *builder = [[APSMediaBuilder alloc] init]; 
[builder addPlugin:[[APSVASTMediaBuilderPlugin alloc] init]]; 
</code></pre>

<p>Optionally, APSMediaUnit set the debugMode flag to YES to enable console logging: </p>
<pre class="highlight plaintext"><code>builder.debugMode = YES;
</code></pre>

<p>Add the media player to a view: </p>
<pre class="highlight plaintext"><code>[APSMediaPlayer sharedInstance].view.frame = CGRectMake(5, 5, 310, 450); 
[self.view addSubview:[APSMediaPlayer sharedInstance].view];
</code></pre>

<p>The next step is to create a playlist of <code><a href="Classes/APSMediaUnit.html">APSMediaUnit</a></code>s to feed to the player for playback. This is what the <code>builder</code> object does; it acts like a configurable <code><a href="Classes/APSMediaUnit.html">APSMediaUnit</a></code> and <code><a href="Classes/APSMediaOverlay.html">APSMediaOverlay</a></code> factory. Configuration can be done by specifying a URL to a JSON configuration file or by providing a similar configuration structure in a <code>NSDictionary</code> container.</p>

<p>Since remote configuration is a process involving network requests, the builder exposes an asynchroneous configuration method:</p>
<pre class="highlight plaintext"><code>[builder configureFromURL:[NSURL URLWithString:@"http://example.com/player.json"] onComplete:^ {
    // TODO: Request and play media units here
}];
</code></pre>

<p>The builder is configured at this point and is able to generate an array of media units ready for playback. When requesting unit generation however, plugins like <code><a href="Classes/APSVASTMediaBuilderPlugin.html">APSVASTMediaBuilderPlugin</a></code> require making additional network requests in order to work. So, again, there is an asynchroneous unit retrieval method:</p>
<pre class="highlight plaintext"><code>[builder configureFromURL:[NSURL URLWithString:@"http://example.com/player.json"] onComplete:^ {
    [builder requestMediaUnitsWithCompletionBlock:^(NSArray *units) {
        [[APSMediaPlayer sharedInstance] playMediaUnits:units];
    }];
}];
</code></pre>

<p>In the final execution block we instruct the player to start playback using the final generated array of media units, configured remotely via JSON input.</p>
<h2 id='configuring-from-json' class='heading'>Configuring from JSON</h2>

<p>See <a href="http://veeplay.github.io/json-docs/">this guide</a> for documentation on all available configuration options and examples.</p>
<h2 id='creating-custom-overlay-controllers' class='heading'>Creating custom overlay controllers</h2>

<p>APSMediaPlayer allows developers to create their own, JSON or dictionary configurable overlays. To create a custom overlay:</p>

<ul>
<li>Create a new class that inherits from APSMediaPlayerOverlayController, which is a <code>UIViewController</code> subclass itself.</li>
<li>Implement [KRAdapter type] to return a unique string that identifies the overlay. This is also used in the configuration dictionary.</li>
<li>Implement [APSMediaPlayerOverlayControllerProtocol load] to execute the custom overlay creation code. This method is invoked by the player, when first diplaying the overlay controller object. You can access configuration parameters as defined in the JSON or NSDictionary configuration using <code>self.overlay.parameters</code>. You can also access information about the currently running unit, using <code>self.overlay.parentUnit</code>.</li>
<li>Implement any other protocol-defined method as needed, see <code><a href="Protocols/APSMediaPlayerOverlayControllerProtocol.html">APSMediaPlayerOverlayControllerProtocol</a></code> for a complete list.</li>
<li><p>Register the newly created class with the player: </p>
<pre class="highlight plaintext"><code>[[APSMediaPlayer sharedInstance] registerClass:[CLASSNAME class] inGroup:kAPSMediaPlayerOverlayControllersGroup type:@"TYPE"];
</code></pre></li>
</ul>
<h2 id='using-chromecast' class='heading'>Using Chromecast</h2>

<p>To connect and send playback to the <a href="https://www.google.com/chromecast">Google Chromecast</a>, you need to install the Veeplay Chromecast plugin. See full documentation <a href="http://veeplay.github.io/ios-chromecast-plugin/">here</a>.</p>

<p>To install:</p>

<ul>
<li><p>Add the following line to your Podfile:</p>
<pre class="highlight plaintext"><code>pod "VeeplayChromecast"
</code></pre></li>
<li><p>Alternatively, if installing without CocoaPods, get the latest static library, header files and assets <a href="https://github.com/veeplay/ios-chromecast-plugin">from the repository</a>. Also, install the latest version of the <a href="https://developers.google.com/cast/docs/ios_sender">Google Cast iOS Sender API library</a>.</p></li>
<li><p>Import the VeeplayChromecastManager header file:</p>
<pre class="highlight plaintext"><code>#import "VeeplayChromecastManager.h"
</code></pre></li>
</ul>

<p>To start the plugin, set your Chromecast application id on the shared instance of <code>APSChromeCastManager</code>:</p>
<pre class="highlight plaintext"><code>    [APSChromecastManager sharedInstance].chromecastAppId = @"appid"
</code></pre>

<p>You can display the Chromecast playback control in the control bar by adding <code>chromecast</code> into the components array, under the <code>controls</code> section in your JSON configuration file:</p>
<pre class="highlight plaintext"><code>    {
        "content": [
            "url": "http://......",
            "autoplay": true,
            "controls": {
                "components": [
                    "playback",
                    "totalTime",
                    "slider",
                    "currentTime",
                    "chromecast"
                ]
            }
        ]
    }
</code></pre>

<p>Also, you can configure this programatically by adding kAPSChromecastControl to the <code>controlsParameters</code> property on <code><a href="Classes/APSMediaUnit.html">APSMediaUnit</a></code>:</p>
<pre class="highlight plaintext"><code>    unit.controlsParameters = @{kAPSControlsComponents: @(APSPlaybackControl|APSCurrentTimeControl|APSTimeSliderControl|APSTotalTimeControl|kAPSChromecastControl|APSFullScreenControl)};
</code></pre>
<h2 id='using-google-ima-sdk' class='heading'>Using Google IMA SDK</h2>

<p>Optionally, Veeplay allows to use Google&rsquo;s IMA SDK instead of the internal VAST ad player. To do this, first add the VeeplayIma integration:</p>
<pre class="highlight plaintext"><code>pod "VeeplayIma", "~&gt; 1.0"
</code></pre>

<p>Then, as soon as possible, enable Veeplay to use Google IMA:</p>
<pre class="highlight plaintext"><code>[[APSMediaPlayer sharedInstance] setPreferGoogleIma:YES];
</code></pre>
<h2 id='using-marlin-drm' class='heading'>Using Marlin DRM</h2>

<p>APSMediaPlayer provides support for <a href="http://www.marlin-community.com/">Marlin DRM</a>, using the SDKs provided by <a href="http://expressplay.com">ExpressPlay</a>. See full documentation <a href="http://veeplay.github.io/ios-marlin-drm/">here</a>.</p>

<p>To install:</p>

<ul>
<li>Install the ExpressPlay SDK.</li>
<li><p>Add the following line to your Podfile:</p>
<pre class="highlight plaintext"><code>pod "VeeplayMarlinManager"
</code></pre></li>
<li><p>If installing without CocoaPods, get the latest static library and header files <a href="https://github.com/veeplay/ios-marlin-drm">from the repository</a>.</p></li>
<li><p>Import the VeeplayMarlinManager header file:</p>
<pre class="highlight plaintext"><code>#import "VeeplayMarlinManager.h"
</code></pre></li>
<li><p>Instantiate a Marlin manager object and register it with the player:</p>
<pre class="highlight plaintext"><code>VeeplayMarlinManager *marlinManager = [[VeeplayMarlinManager alloc] init];
[[APSMediaPlayer sharedInstance] registerUnitManager:marlinManager];
</code></pre></li>
<li><p>Set the <code>managerType</code> property of the <code><a href="Classes/APSMediaUnit.html">APSMediaUnit</a></code> object to <code>@&quot;marlin&quot;</code>.</p></li>
<li><p>Optionally, to have the player download and add a broadband license to the local store, you can set the <code>kAPSMetadataDrmUrl</code> key in the <code>metadata</code> dictionary of an item to the string URL to the license file. To configure from JSON, set the <code>drm_encoding_url</code> metadata key.</p></li>
</ul>
<h2 id='enabling-picture-in-picture-support' class='heading'>Enabling Picture in Picture support</h2>

<p>To enable Picture in Picture support please make sure you configured your project as described in <a href="https://developer.apple.com/library/ios/documentation/WindowsViews/Conceptual/AdoptingMultitaskingOniPad/QuickStartForPictureInPicture.html">Apple&rsquo;s documentation</a> then:</p>

<ul>
<li><p>Import PiP backend&rsquo;s header file:</p>
<pre class="highlight plaintext"><code>#import &lt;APSPiPPlayer.h&gt;
</code></pre></li>
<li><p>Set the backend player&rsquo;s class to <code>APSPipPlayer</code>:</p>
<pre class="highlight plaintext"><code>[[APSMediaPlayer sharedInstance] setBackendPlayerClass:[APSPiPPlayer class]];
</code></pre></li>
<li><p>(Optional) Display the Picture in Picture control in the control bar by adding <code>APSPiPControl</code> to the <code>controlsParameters</code> property on <code><a href="Classes/APSMediaUnit.html">APSMediaUnit</a></code>:</p>
<pre class="highlight plaintext"><code>unit.controlsParameters = @{kAPSControlsComponents: @(APSPlaybackControl|APSCurrentTimeControl|APSTimeSliderControl|APSTotalTimeControl|kAPSChromecastControl|APSPiPControl)};
</code></pre>

<ul>
<li><p>Alternatively you can display the Picture in Picture playback control in the control bar by adding <code>pictureInPicture</code> into the components array, under the <code>controls</code> section in your JSON configuration file:</p>

<p>{
    &ldquo;content&rdquo;: [
        &ldquo;url&rdquo;: &ldquo;http://&hellip;&hellip;&rdquo;,
        &ldquo;autoplay&rdquo;: true,
        &ldquo;controls&rdquo;: {
            &ldquo;components&rdquo;: [
                &ldquo;playback&rdquo;,
                &ldquo;totalTime&rdquo;,
                &ldquo;slider&rdquo;,
                &ldquo;currentTime&rdquo;,
                &ldquo;pictureInPicture&rdquo;
            ]
        }
    ]
}</p></li>
</ul></li>
</ul>
<h2 id='enabling-background-playback' class='heading'>Enabling background playback</h2>

<p>To enable video playback while the application is in background, first <a href="https://developer.apple.com/documentation/avfoundation/media_playback_and_selection/creating_a_basic_video_player_ios_and_tvos/enabling_background_audio">enable Background Audio</a> in your app capabilities then set the APSMediaPlayer&rsquo;s <code>enableBackgroundPlayback</code> property to <code>true</code>:</p>
<pre class="highlight plaintext"><code>[APSMediaPlayer sharedInstance].enableBackgroundPlayback = YES;
</code></pre>
<h3 id='example-unit-configurations' class='heading'>Example Unit Configurations</h3>

<ul>
<li><p>Configuring a unit progamatically:</p>
<pre class="highlight plaintext"><code>APSMediaUnit *unit = [[APSMediaUnit alloc] init];
unit.url = [NSURL URLWithString:@"http://url.to/your-protected-media"];
unit.managerType = kVeeplayMarlinDRMEncoding;
unit.metadata = [NSMutableDictionary dictionaryWithDictionary: @{ kAPSMetadataDrmUrl: @"http://url.to/marlin-broadband-key" }];
</code></pre></li>
<li><p>Configuring a unit from JSON:</p>
<pre class="highlight plaintext"><code>{
        "url": "http://url.to/your-protected-media",
        "manager": "marlin",
        "metadata": {
                "drm_encoding_url": "http://url.to/marlin-broadband-key"
        }
}
</code></pre></li>
</ul>
<h2 id='class-reference' class='heading'>Class Reference</h2>

<p>See the full class reference <a href="http://veeplay.github.io/ios-media-player/">here</a>.</p>
<h2 id='code-samples' class='heading'>Code Samples</h2>

<p>See a showcase project featuring code samples for various playback scenarios <a href="https://github.com/veeplay/ios-media-player/tree/master/Example">here</a>.</p>

<p>If you have CocoaPods installed, you can instantly see a demo of the Veeplay player by typing <code>pod try Veeplay</code> in your Terminal.</p>
<h2 id='requirements' class='heading'>Requirements</h2>

<p>APSMediaPlayer relies on the following liberally-licensed pods installed as dependencies:</p>

<ul>
<li>KAProgressLabel - <a href="https://github.com/kirualex/KAProgressLabel/blob/master/LICENSE">LICENSE</a></li>
<li>TBXML - <a href="https://github.com/71squared/TBXML">LICENSE</a></li>
<li>TSMiniWebBrowser - <a href="https://github.com/tonisalae/TSMiniWebBrowser/blob/master/LICENSE">LICENSE</a></li>
</ul>
<h2 id='author' class='heading'>Author</h2>

<p>Appscend Video Solutions GmbH</p>
<h2 id='license' class='heading'>License</h2>

<p>Commercial license. Contact <a href="mailto:sales@veeplay.com">sales@veeplay.com</a>.</p>

          </div>
        </section>


      </article>
    </div>
    <section class="footer">
      <p>&copy; 2021 <a class="link" href="https://veeplay.com" target="_blank" rel="external">Veeplay</a>. All rights reserved. (Last updated: 2021-04-22)</p>
      <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.13.6</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
    </section>
  </body>
</div>
</html>
